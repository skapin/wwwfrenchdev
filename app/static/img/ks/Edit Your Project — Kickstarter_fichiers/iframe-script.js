(function(){var i=document,c=window,g={},e="10.1",f=false,a=[];if(!window.jQuery){i.write('<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.1/jquery.min.js"><\/script>')}if("undefined"==typeof swfobject){i.write('<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"><\/script>')}var b={guidGenerator:function(){var d=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1)};return(d()+d()+"-"+d()+"-"+d()+"-"+d()+"-"+d()+d()+d())},idGenerator:function(d){return d+Math.round(Math.random()*100000000)},toArray:function(j){if(!j){return[]}if(j.toArray){return j.toArray()}try{return Array.prototype.slice.call(j,0)}catch(d){return[j]}},addEventListener:function(k,j,d){if(k.addEventListener){k.addEventListener(j,d,false)}else{k.attachEvent("on"+j,d)}},removeEventListener:function(k,j,d){if(k.removeEventListener){k.removeEventListener(j,d,false)}else{k.detachEvent("on"+j,d)}},trim:function(d){return(d||"").replace(/^\s+|\s+$/g,"")},keys:function(k){var j=[];if(null!=k){for(var d in k){if(k.hasOwnProperty(d)){j.push(d)}}}return j},merge:function(o,l){var j={},n=this.keys(o);if(null!=l){for(var m=0,k=this.keys(l),d=k.length;m<d;++m){if(!o.hasOwnProperty(k[m])){n.push(k[m])}}}for(var m=0,d=n.length;m<d;++m){j[n[m]]=(null!=l&&typeof l[n[m]]!="undefined")?l[n[m]]:o[n[m]]}return j},toQueryString:function(m){var j="";for(var k=0,l=this.keys(m),d=l.length;k<d;++k){j+="&"+encodeURIComponent(l[k])+"="+encodeURIComponent(m[l[k]])}return j.substr(1)},toUrl:function(j,d){d._=b.guidGenerator();return this.trim(j)+"?"+this.toQueryString(d)},halfPixelTimer:null,halfPixelElem:null,handlerPointer:null,handleHalfPixels:function(d){this.unbindHalfPixelHandler();this.halfPixelElem=d;this.handlerPointer=function(){b.fixHalfPixels()};this.addEventListener(c,"resize",this.handlerPointer);this.fixHalfPixels()},fixHalfPixels:function(d){c.clearTimeout(this.halfPixelTimer);this.halfPixelTimer=c.setTimeout(function(){b.fixHalfPixelsFn()},500)},fixHalfPixelsFn:function(){var d=this.halfPixelElem,k;if(d.getBoundingClientRect){d.style.marginLeft=d.style.marginTop="";try{k=d.getBoundingClientRect()}catch(l){return}j(k.left,"marginLeft");j(k.top,"marginTop")}function j(n,m){n=Math.round(n*10)/10;var o=n%Math.floor(n);if(o>0){d.style[m]=-o+"px"}}},unbindHalfPixelHandler:function(){if(null!=this.handlerPointer){this.removeEventListener(c,"resize",this.handlerPointer)}},isLinux:function(){return this.getPlatform().indexOf("linux")>-1},isMac:function(){return this.getPlatform().indexOf("mac")>-1},isWindows:function(){return this.getPlatform().indexOf("win")>-1},getPlatform:function(){if(navigator&&null!=navigator.platform){return navigator.platform.toLowerCase()}return""},isChrome:function(){return jQuery.browser.webkit&&!!window.chrome},isFirefox:function(){return jQuery.browser.mozilla},isSafari:function(){return jQuery.browser.safari&&!window.chrome},isInternetExplorer:function(){return jQuery.browser.msie||!!navigator.userAgent.match(/Trident\/7\./)},getBrowser:function(){if(b.isInternetExplorer()){return"internet_explorer"}else{if(b.isChrome()){return"chrome"}else{if(b.isFirefox()){return"firefox"}else{if(b.isSafari()){return"safari"}else{return"undefined"}}}}},getOS:function(){if(b.isWindows()){return"win"}else{if(b.isMac()){return"mac"}else{if(b.isLinux()){return"linux"}else{return"undefined"}}}},getOSVersion:function(){var d="undefined";if(b.isWindows()){var k={"3.11":"Win16","95":"(Windows 95)|(Win95)|(Windows_95)","98":"(Windows 98)|(Win98)","2000":"(Windows NT 5.0)|(Windows 2000)",XP:"(Windows NT 5.1)|(Windows XP)","2003":"(Windows NT 5.2)",Vista:"(Windows NT 6.0)","7":"(Windows NT 6.1)","8":"(Windows NT 6.2)","4.0":"(Windows NT 4.0)|(WinNT4.0)|(WinNT)|(Windows NT)",ME:"Windows ME"};jQuery.each(k,function(l,m){if(navigator.userAgent.match(m)){d=l;return false}})}else{if(b.isMac()){var j=navigator.userAgent.match(/Mac OS X (\d{2}[_.]\d{1,2}([_.]\d)?)/);if(undefined!=j){d=j[1].replace(/_/g,".")}}}return d},createIframe:function(k,n){var m=this.keys(n),o=i.createElement("IFRAME");o.frameBorder=0;if(k.id!=undefined){o.id=k.id+"-iframe"}for(var j=0,d=m.length;j<d;++j){o[m[j]]=n[m[j]]}k.appendChild(o);return o},loaded:function(){f=true;b.handleQueue()},onload:function(j,d){if(f){j.apply(d||null)}else{a.push(function(){j.apply(d||null)})}},handleQueue:function(){for(var j=0,d=a.length;j<d;++j){a.shift()()}},isFalse:function(d){return false===d||"false"==d},isTrue:function(d){return true===d||"true"==d}};if(i.addEventListener){b.addEventListener(i,"DOMContentLoaded",b.loaded)}b.addEventListener(c,"load",b.loaded);function h(){this.container=null;this.validator=null;this.options=null}h.prototype={defaults:{flashId:"JumioStartClient"},status:{INCOMPATIBLE_BROWSER:"incompatiblebrowser",NO_FLASH:"noflash",MINOR_FLASH:"minorflash",NO_CAMERA:"nocam",OK:"ok"},events:{LOADED:"loaded",TOKEN_EXPIRED:"token-expired",CAM_INFO:"webcam-access-info",CAM_DIALOG:"webcam-access-dialog",CAM_NOT_FOUND:"webcam-not-found",CAM_DENIED:"webcam-denied",CAM_IN_USE:"webcam-in-use",START:"detector-start",FOUND:"detector-found-all",CVV:"cvv",UPLOAD:"progress",UPLOAD_FAILED:"upload-failed",COMPLETE:"complete",ALL:"all"},statusEvents:{FLASH_STATUS:"flash-status",CAM_STATUS:"cam-status",BROWSER_STATUS:"browser-status"},flashCapabilities:null,getFlashCapabilities:function(){if(null==this.flashCapabilities){this.flashCapabilities={installed:swfobject.hasFlashPlayerVersion("1"),express:swfobject.hasFlashPlayerVersion("8"),version:null,isOutdated:false};if(this.flashCapabilities.installed){var j=swfobject.getFlashPlayerVersion();this.flashCapabilities.version=j.major+"."+j.minor+"."+j.release}if(!swfobject.hasFlashPlayerVersion(e)){this.flashCapabilities.isOutdated=true}if(b.isMac()){if(!b.isChrome()&&!swfobject.hasFlashPlayerVersion("10.2")){var m=(navigator||{}).plugins;if(m){for(var l=0,d=m.length;l<d;++l){var k=(m[l].name||"").toLowerCase();if(k.indexOf("google")>-1&&k.indexOf("talk")>-1){this.flashCapabilities.isOutdated=true;break}}}}if(b.getBrowser().indexOf("10_7")>-1&&!swfobject.hasFlashPlayerVersion("10.3.183")){this.flashCapabilities.isOutdated=true;this.flashCapabilities.express=false}}}return this.flashCapabilities},browserCapabilities:null,getBrowserCapabilitites:function(){if(null==this.browserCapabilities){this.browserCapabilitites={incompatibleBrowser:false,html5:false,version:jQuery.browser.version,vendor:b.getBrowser(),supportsCss3Animation:this.supportsCss3Animation()}}if(b.isChrome()){var d=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(d==null||(d!=null&&d[2]<17)){this.browserCapabilitites.incompatibleBrowser=true}}return this.browserCapabilitites},getOperatingSystemCapabilities:function(){return{isMac:b.isMac(),isLinux:b.isLinux(),isWindows:b.isWindows(),version:b.getOSVersion(),vendor:b.getOS()}},validate:function(q){this.bind(this.statusEvents.FLASH_STATUS,q);this.bind(this.statusEvents.CAM_STATUS,q);this.bind(this.statusEvents.BROWSER_STATUS,q);var l=this.getBrowserCapabilitites();if(l.incompatibleBrowser){this.fire(this.statusEvents.BROWSER_STATUS,this.status.INCOMPATIBLE_BROWSER);return}var m=this.getFlashCapabilities();if(!m.installed){this.fire(this.statusEvents.FLASH_STATUS,this.status.NO_FLASH);return}else{if(m.isOutdated){this.fire(this.statusEvents.FLASH_STATUS,this.status.MINOR_FLASH,m.express);return}else{if(m.gTalkConflict){this.fire(this.statusEvents.FLASH_STATUS,this.status.GOOGLE_PLUGIN_CONFLICT);return}}}var d=b.idGenerator("jumioValidator"),s={position:"absolute",left:-1,top:0,height:1,width:1,visibility:"hidden"},p=i.createElement("DIV"),j=i.createElement("DIV");for(var k=0,r=b.keys(s),n=r.length;k<n;++k){p.style[r[k]]=s[r[k]]}this.validator=j.id=d;p.appendChild(j);function o(){i.getElementsByTagName("BODY")[0].appendChild(p);this.embedSwf({swf:b.trim("https://static.netverify.com/wicket/resource/com.jumio.wicket.resources.swf.ResourcesSwfScope/client/camera_validator-ver-1458659224000.swf"),id:d,width:1,height:1,params:{allowscriptaccess:"always"}})}b.onload(o,this)},initCamera:function(m,d,l){this.fire(this.statusEvents.CAM_STATUS,m?this.status.OK:this.status.NO_CAMERA,d,l);try{if(m){var k=i.getElementById(this.validator);if(null!=k){var j=k.parentNode;this.removeSWF(this.validator);if(null!=j){i.getElementsByTagName("BODY")[0].removeChild(j)}}}}catch(n){}},bind:function(k,j,d){if(typeof j!="function"){return this}if(!g[k]){g[k]=[]}g[k].push({handler:j,context:(d||null)});return this},fire:function(j){var d=b.toArray(arguments);setTimeout(function(){window.JumioClient.executeTrigger(j,d)},0)},executeTrigger:function(n,k){var j=b.toArray(g[n]).concat(b.toArray(g[this.events.ALL]));for(var m=0,d=j.length;m<d;++m){j[m].handler.apply(j[m].context,k)}},unbind:function(n,m){var j=g[n];if(m){if(j){for(var k=0,d=j.length;k<d;++k){if(j[k].handler===m){j.splice(k,1);return this}}}}else{delete j}return this},embedSwf:function(d){var j=b.merge({swf:"",id:"",minFlash:e,flashVars:{},params:{},attr:{},onReady:null},d);swfobject.embedSWF(j.swf,j.id,j.width,j.height,j.minFlash,null,j.flashVars||{},j.params||{},j.attr||{},j.onReady)},disconnectSWF:function(l){var k=JumioClient.options.flashId;var l=typeof l!=="undefined"?l:true;try{var d=swfobject.getObjectById(k);if(null!=d){d.disconnect(l)}}catch(j){}if(!b.isChrome()&&!b.isSafari()){JumioClient.removeFlashClientAndCloseOverlay()}},disconnectSWFWithoutCallback:function(){JumioClient.disconnectSWF(false)},closeOverlay:function(){var d=$("div.visuraloverlaycontent:visible");if(d.length>0){d.hide();$("div.visuraloverlay").hide()}},removeFlashClientAndCloseOverlay:function(){JumioClient.removeSWF(JumioClient.options.flashId);JumioClient.closeOverlay()},removeSWF:function(d){swfobject.removeSWF(d)},redirect:function(d){window.location.replace(d)},redirectFromFallback:function(j){var k=this;var d=window.location.href;var l={jumioIdScanReference:"jumioIdScanReference",redirectFromFallback:"redirectFromFallback",verifyCountry:"verifyCountry",verifyIdType:"verifyIdType"};jQuery.each(l,function(m,n){if(undefined!=j[m]&&j[m].length>0&&j[m]!="null"){d=k.replaceQueryString(d,n,j[m])}});window.location.href=d},replaceQueryString:function(d,l,k){d=d.indexOf("#")>0?d.substring(0,d.indexOf("#")):d;var j=new RegExp("([?|&])"+l+"=.*?(&|$)","i");if(d.match(j)){return d.replace(j,"$1"+l+"="+k+"$2")}else{return d+(d.indexOf("?")==-1?"?":"&")+l+"="+k}},redirectTop:function(d){window.top.location.replace(d)},linkRedirect:function(d){window.location.href=d},linkRedirectTop:function(d){window.top.location.href=d},setVars:function(d){this.options=b.merge(this.defaults,d);return this},initScan:function(d){this.container=d;b.onload(this.loadScan,this);return this},loadScan:function(){this.ensureLocale();this.options.clientUrl=b.trim("https://static.netverify.com/wicket/resource/com.jumio.wicket.resources.swf.ResourcesSwfScope/client/netswipe_scanning.swf");this.options.width=this.options.width||380;this.options.height=this.options.height||300;this.options.redirectTarget=this.options.redirectTarget||"top";return this.loadClient()},initNetswipeClient:function(d){this.options.clientUrl=b.trim("https://static.netverify.com/wicket/resource/com.jumio.wicket.resources.swf.ResourcesSwfScope/client/netswipe.swf");this.initClient(d)},initNetverifyClient:function(d){this.options.clientUrl=b.trim("https://static.netverify.com/wicket/resource/com.jumio.wicket.resources.swf.ResourcesSwfScope/client/netverify_upload-ver-1458659220000.swf");this.initClient(d)},initNetverifyUploadClient:function(d){this.options.clientUrl=b.trim("https://static.netverify.com/wicket/resource/com.jumio.wicket.resources.swf.ResourcesSwfScope/client/preloader-ver-1458659228000.swf");this.options.bgColor="FCFCFC";this.initClient(d)},initClient:function(d){this.container=d;b.removeEventListener(c,"beforeunload",this.disconnectSWFWithoutCallback);b.addEventListener(c,"beforeunload",this.disconnectSWFWithoutCallback);b.onload(this.loadClient,this);return this},loadClient:function(){this.ensureLocale();this.ensureContainer();if(""==this.container.id){this.container.id=b.idGenerator("netswipe-")}if(!this.ensureBrowserCapabilities()||!this.ensureFlashCapabilities()){return this}var k={wmode:"window",bgcolor:this.options.bgColor||"FFFFFF",allowscriptaccess:"always"};var d=this.options,j=i.createElement("DIV");j.id=d.flashId;this.container.appendChild(j);d.streamLocatorUrl=b.trim(d.streamLocatorUrl||"rtmp://localhost.jumio.com/jumiostream/test");d.loadBalancerUrl=b.trim(d.loadBalancerUrl||"");this.embedSwf({swf:b.trim(d.clientUrl),id:d.flashId,width:d.width,height:d.height,flashVars:d,params:k});b.handleHalfPixels(this.container);return this},reload:function(){this.removeSWF(this.options.flashId);this.loadClient()},pageview:function(d){d=(d||"").replace("/","").toLowerCase();this.fire(d)},initVerify:function(d){this.container=d;b.onload(this.loadVerify,this);return this},verifyUrl:function(){return this.buildIframeUrl("https://netverify.com/widget/jumio-verify/2.0/form")},loadVerify:function(){this.ensureContainer();if(null!=this.container){var d=this.verifyUrl();var j=b.createIframe(this.container,{width:(b.isTrue(this.options.responsiveLayout)?"100%":(b.isFalse(this.options.showIntroductionText)?430:800)),height:(b.isFalse(this.options.showIntroductionText)?455:570),src:d});if(typeof this.options.responsiveLayout!=undefined&&this.options.responsiveLayout===true){j.setAttribute("style","width:100%;")}b.handleHalfPixels(j)}return this},initMDM:function(d){this.container=d;b.onload(this.loadMDM,this);return this},verifyMDM:function(){return this.buildIframeUrl("https://netverify.com/widget/jumio-verify/2.0/mdm")},loadMDM:function(){this.ensureContainer();if(null!=this.container){var d=this.verifyMDM();var j=b.createIframe(this.container,{width:(b.isTrue(this.options.responsiveLayout)?"100%":800),height:570,src:d});if(typeof this.options.responsiveLayout!=undefined&&this.options.responsiveLayout===true){j.setAttribute("style","width:100%;")}b.handleHalfPixels(j)}return this},buildIframeUrl:function(l){this.options.referer=c.location.href;if(this.options.clientRedirectUrl){var k=this.options.clientRedirectUrl;iframeurl=k.split("?",1)[0];var n=k.substr(iframeurl.length+1,k.length).split("&");var d=n.length;for(var j=0;j<d;j++){var m=n[j].split("=");this.options[m[0]]=m[1]}this.options.clientRedirectUrl=undefined}return b.toUrl(l,this.options)},ensureContainer:function(){if("string"==typeof this.container){this.container=i.getElementById(this.container)}if(null==this.container){this.error("container not found");return false}return this},ensureLocale:function(){if(0==(this.options.locale||"").length){this.options.locale="en"}return this},ensureFlashCapabilities:function(d){var l=this;var j=("string"==typeof d)?i.getElementById(d):this.container;if(null==j){this.error("container not found")}var k=this.getFlashCapabilities();if(!k.installed){this.error('You need Adobe Flash to use Netswipe.<br /><br /><a href="http://www.adobe.com/go/getflashplayer" target="_blank"><img src="//www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" /></a>',j);return false}else{if(k.isOutdated){if(k.express){swfobject.showExpressInstall({data:"https://static.netverify.com/wicket/resource/com.jumio.wicket.resources.swf.ResourcesSwfScope/client/expressInstall-ver-1336732088000.swf",width:"343",height:"200"},{},j.id,function(m){if(!m.success){l.error("Flash upgrade cancelled",i.getElementById(m.id))}})}else{this.error('Your Adobe Flash Player is outdated. Please upgrade to the latest version.<br /><br /><a href="http://www.adobe.com/go/getflashplayer" target="_blank"><img src="//www.adobe.com/images/shared/download_buttons/get_flash_player.gif" alt="Get Adobe Flash player" /></a>',j)}return false}}return true},ensureBrowserCapabilities:function(d){var j=("string"==typeof d)?i.getElementById(d):this.container;if(null==j){this.error("container not found")}var k=this.getBrowserCapabilitites();if(k.incompatibleBrowser){this.error("Your Browser is currently not supported by Netswipe. Please use Mozilla Firefox,Microsoft Internet Explorer or Apple Safari",j);return false}return true},error:function(l,d){if("undefined"==typeof(d)){alert("Jumio Netswipe couldn't be loaded.\n\nError:   "+l)}else{var j="string"==typeof(d)?i.getElementById(d):d;var k='<img src="/images/form/alert-icon.jpg "class="left informationIcon" alt="information" />';j.innerHTML='<div class="informationBox">'+k+l+"</div>"}},infoText:function(d){$(this.container).trigger("infoText",d)},supportsCss3Animation:function(){var l=document.createElement("div");var k="Khtml Ms O Moz Webkit".split(" ");var j=k.length;var d="animation";if(d in l.style){return true}d=d.replace(/^[a-z]/,function(m){return m.toUpperCase()});for(j;j>0;j=j-1){if(k[j]+d in l.style){return true}}return false}};c.JumioClient=new h()})();